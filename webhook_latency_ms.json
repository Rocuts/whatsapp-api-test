{
  "name": "webhook_latency_ms",
  "description": "Webhook latency in milliseconds",
  "filter": "resource.type=\"cloud_run_revision\" AND resource.labels.service_name=\"whatsapp-webhook\" AND jsonPayload.metric=\"webhook_latency_ms\"",
  "metricDescriptor": {
    "name": "logging.googleapis.com/user/webhook_latency_ms",
    "metricKind": "DELTA",
    "valueType": "DISTRIBUTION",
    "unit": "ms"
  },
  "valueExtractor": "EXTRACT(jsonPayload.latency)",
  "bucketOptions": {
    "exponentialBuckets": {
      "numFiniteBuckets": 10,
      "growthFactor": 2,
      "scale": 1
    }
  }
}
